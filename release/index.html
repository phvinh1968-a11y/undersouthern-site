<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>create release — global record label</title>
    
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/phvinh1968-a11y/my-images/main/logoblack.png">

    <style>
        :root {
            --bg: #f4f4f2; 
            --sidebar-bg: #ecece9;
            --card-bg: #ecece9;
            --text-main: #1a1a1a;
            --text-secondary: #6b6b6b;
            --line: #dcdcdc;
            --accent: #000000;
            --sidebar-width: 280px;
            --footer-height: 60px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        body {
            font-family: -apple-system, blinkmacsystemfont, "inter", sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            display: flex;
            height: 100vh;
            text-transform: lowercase;
            letter-spacing: -0.01em;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("https://grainy-gradients.vercel.app/noise.svg");
            opacity: 0.03;
            pointer-events: none;
            z-index: 999;
        }

        aside {
            width: var(--sidebar-width);
            border-right: 1px solid var(--line);
            display: flex;
            flex-direction: column;
            padding: 60px 0;
            background: var(--sidebar-bg);
            height: 100vh;
            z-index: 10;
            flex-shrink: 0;
        }

        .brand-logo { width: 140px; margin: 0 auto 80px auto; opacity: 0.9; cursor: pointer; }
        .brand-logo img { width: 100%; height: auto; filter: grayscale(1) contrast(1.1); display: block; }

        nav { display: flex; flex-direction: column; gap: 32px; width: 100%; padding: 0 45px; }
        nav a, .logout-btn {
            text-decoration: none; color: var(--text-secondary);
            font-size: 0.85rem; font-weight: 500; transition: var(--transition);
            display: flex; align-items: center; gap: 12px; cursor: pointer;
            border: none; background: none; padding: 0; position: relative;
        }

        nav a::before {
            content: ""; width: 6px; height: 6px; background-color: var(--accent);
            border-radius: 50%; position: absolute; left: -15px; opacity: 0;
            transform: scale(0); transition: var(--transition);
        }

        nav a.active, nav a:hover { color: var(--accent); transform: translatex(6px); }
        nav a.active::before { opacity: 1; transform: scale(1); }

        .logout-container { margin-top: auto; padding: 0 45px; width: 100%; }
        .logout-btn { color: #b3261e; opacity: 0.9; }

        .wrapper { flex-grow: 1; display: flex; flex-direction: column; height: 100vh; position: relative; min-width: 0; }
        main { flex-grow: 1; padding: 60px 80px 100px 80px; overflow-y: auto; }

        header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 100px; }
        .header-title h1 { font-size: 1.2rem; font-weight: 500; margin: 0 0 8px 0; }
        .header-title span { font-size: 0.85rem; color: var(--text-secondary); }

        .form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px 40px; max-width: 950px; }
        .full-width { grid-column: span 2; }
        .form-group { position: relative; display: flex; flex-direction: column; }
        .form-group label { display: flex; align-items: center; font-size: 0.72rem; color: var(--text-secondary); margin-bottom: 8px; font-weight: 600; letter-spacing: 0.05em; height: 14px; }
        
        .help-icon { display: inline-flex; align-items: center; justify-content: center; width: 14px; height: 14px; border: 1px solid var(--text-secondary); border-radius: 50%; font-size: 9px; margin-left: 6px; cursor: pointer; transition: 0.2s; }
        .help-icon:hover { background: var(--accent); color: #fff; border-color: var(--accent); }
        
        /* BẢNG HƯỚNG DẪN (TOOLTIP) */
        .artwork-tooltip { 
            position: absolute; top: 25px; left: 0; width: 280px; background: #1a1a1a; color: #fff; 
            padding: 20px; font-size: 0.75rem; line-height: 1.6; z-index: 100; display: none; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-transform: lowercase; 
        }
        .artwork-tooltip b { display: block; margin-bottom: 10px; font-weight: 700; letter-spacing: 0.05em; }
        .artwork-tooltip ul { margin: 0; padding-left: 15px; list-style-type: disc; }
        .artwork-tooltip li { margin-bottom: 5px; }

        .form-group input, .form-group select { width: 100%; background: transparent; border: none; border-bottom: 1px solid var(--line); padding: 8px 0; outline: none; font-size: 1rem; text-transform: lowercase; transition: border-bottom 0.3s; appearance: none; border-radius: 0; }
        .form-group input:focus, .form-group select:focus { border-bottom-color: var(--accent); }
        
        .select-wrapper { position: relative; display: block; width: 100%; }
        .select-wrapper::after { content: '▼'; font-size: 0.5rem; position: absolute; right: 0; bottom: 12px; color: var(--text-secondary); pointer-events: none; }

        .tags-container { display: flex; flex-wrap: wrap; gap: 6px; border-bottom: 1px solid var(--line); padding-bottom: 5px; min-height: 38px; align-items: center; cursor: text; }
        .tag { background: var(--accent); color: #fff; font-size: 0.75rem; padding: 3px 8px; display: flex; align-items: center; gap: 6px; border-radius: 2px; }
        .tag span { cursor: pointer; font-weight: bold; font-size: 10px; opacity: 0.7; }
        .tags-container input { border: none !important; width: auto !important; flex: 1; min-width: 10px; padding: 5px 0 !important; }

        .artwork-upload-box { width: 160px; height: 160px; background: var(--card-bg); border: 1px solid var(--line); display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; overflow: hidden; text-align: center; }
        .artwork-upload-box img { width: 100%; height: 100%; object-fit: cover; position: absolute; display: none; }
        .remove-art-btn { position: absolute; top: 5px; right: 5px; width: 20px; height: 20px; background: rgba(0,0,0,0.7); color: #fff; border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; z-index: 10; }

        .tracks-section { margin-top: 50px; border-top: 1px solid var(--line); padding-top: 40px; max-width: 950px; }
        #audio-label { margin-bottom: 40px !important; font-size: 0.8rem; letter-spacing: 0.1em; display: block; }

        .track-item-container { margin-bottom: 15px; border: 1px solid var(--line); background: rgba(236, 236, 233, 0.3); }

        .track-row { 
            display: flex; 
            align-items: flex-start; 
            gap: 15px; 
            padding: 20px; 
        }

        .track-row .form-group label { font-size: 0.6rem !important; margin-bottom: 8px; height: 15px; display: flex; align-items: center; }
        .track-row input { font-size: 0.8rem !important; padding: 6px 0 !important; height: 30px; }
        .track-row .tags-container { min-height: 30px !important; }

        .track-row .form-group:nth-child(1) { flex: 1.3; } 
        .track-row .form-group:nth-child(2) { flex: 1; }   
        .track-row .form-group:nth-child(3) { flex: 1; }   
        .track-row .form-group:nth-child(4) { flex: 1; }   

        .action-mini-btn { 
            cursor: pointer; 
            border-bottom: 1px solid var(--line); 
            padding: 4px 0; 
            text-align: center; 
            min-width: 55px;
            transition: 0.3s;
            height: 25px; 
            display: flex;
            align-items: center;
            justify-content: center;
            align-self: flex-end; 
            margin-bottom: 6px;
        }
        .action-mini-btn:hover { border-bottom-color: var(--accent); }
        .action-mini-btn span { font-size: 0.58rem !important; font-weight: 700; text-transform: uppercase; color: var(--text-secondary); }
        
        .lyrics-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); backdrop-filter: blur(4px); z-index: 2000; display: none; align-items: center; justify-content: center; }
        .lyrics-modal-box { background: var(--bg); border: 1px solid var(--accent); width: 90%; max-width: 550px; padding: 25px; position: relative; }
        .lyrics-modal-box h3 { margin-top: 0; font-size: 0.9rem; margin-bottom: 15px; font-weight: 500; }
        .lyrics-modal-box textarea { width: 100%; background: transparent; border: 1px solid var(--line); padding: 12px; font-family: inherit; font-size: 0.8rem; outline: none; resize: vertical; min-height: 250px; text-transform: none; }
        .btn-done-lyrics { margin-top: 15px; width: 100%; background: var(--accent); color: #fff; border: none; padding: 10px; cursor: pointer; font-size: 0.75rem; font-weight: 600; }

        .btn-add-track { background: transparent; border: 1px dashed var(--line); color: var(--text-secondary); width: 100%; padding: 12px; font-size: 0.75rem; cursor: pointer; margin-top: 5px; }

        .submit-container {
            display: flex;
            max-width: 950px;
            margin-top: 40px;
        }

        .btn-submit { 
            background: var(--accent); 
            color: #fff; 
            border: none; 
            padding: 12px 60px; 
            font-size: 0.8rem; 
            font-weight: 600; 
            cursor: pointer; 
            letter-spacing: 0.1em; 
            margin-left: auto; 
            transition: var(--transition);
        }
        .btn-submit:hover { opacity: 0.8; }

        .footer { position: absolute; bottom: 0; left: 0; right: 0; height: var(--footer-height); background: var(--sidebar-bg); border-top: 1px solid var(--line); padding: 0 80px; display: flex; justify-content: space-between; align-items: center; font-size: 0.7rem; color: var(--text-secondary); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <aside>
        <div class="brand-logo" onclick="window.location.href='https://undersouthern.asia/dashboard'">
            <img src="https://raw.githubusercontent.com/phvinh1968-a11y/my-images/main/logoblack.png" alt="label-logo">
        </div>
        <nav id="sidebar-nav">
            <a href="https://undersouthern.asia/dashboard">dashboard</a>
            <a href="https://undersouthern.asia/release" class="active">create release</a>
            <a href="#">catalog access</a>
            <a href="#">analytics</a>
            <a href="#">royalty reports</a>
            <a href="#">user access</a>
        </nav>
        <div class="logout-container"><button class="logout-btn" onclick="handleLogout()">logout</button></div>
    </aside>

    <div class="wrapper">
        <main id="scroll-area">
            <header>
                <div class="header-title">
                    <h1>create release</h1>
                    <span id="sub-header-text">distribute your music global</span>
                </div>
            </header>

            <form id="submit-form" onsubmit="handleFinalSubmit(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>cover artwork <div class="help-icon" onclick="toggleTooltip(event, 'artwork-tooltip')">?</div></label>
                        <div class="artwork-tooltip" id="artwork-tooltip">
                            <b>artwork requirements:</b>
                            <ul>
                                <li>file formats: jpg, png</li>
                                <li>resolution: 1000x1000 to 4000x4000</li>
                                <li>must be a perfect square</li>
                                <li>no logos or brand references</li>
                                <li>you must own the rights</li>
                            </ul>
                        </div>
                        <div class="artwork-upload-box" onclick="document.getElementById('artwork-file').click()">
                            <span id="art-txt" style="font-size: 0.6rem;">upload artwork</span>
                            <img id="preview-img">
                            <div id="remove-btn" class="remove-art-btn" onclick="removeArt(event)">✕</div>
                            <input type="file" id="artwork-file" hidden accept="image/*" onchange="previewArt(this)">
                        </div>
                    </div>

                    <div class="form-group select-wrapper">
                        <label>release type</label>
                        <select id="release-type" onchange="handleTypeLogic()" required>
                            <option value="single" selected>single</option>
                            <option value="ep">ep</option>
                            <option value="album">album</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label id="title-label">single title</label>
                        <input type="text" id="main-title-input" placeholder="eg. song name" required>
                    </div>
                    <div class="form-group"><label>title version</label><input type="text" placeholder="eg. remix"></div>

                    <div class="form-group"><label>primary artist</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>
                    <div class="form-group"><label>featured artist</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>

                    <div class="form-group select-wrapper"><label>primary genre</label><select id="primary-genre" required><option value="" disabled selected>select genre</option></select></div>
                    <div class="form-group select-wrapper"><label>secondary genre</label><select id="secondary-genre"><option value="" selected>optional</option></select></div>

                    <div class="form-group"><label>producer</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>
                    <div class="form-group select-wrapper"><label>language</label><select id="language-select" required><option value="" disabled selected>select language</option></select></div>

                    <div class="form-group select-wrapper">
                        <label>explicit content <div class="help-icon" onclick="toggleTooltip(event, 'explicit-tooltip')">?</div></label>
                        <div class="artwork-tooltip" id="explicit-tooltip">
                            <b>explicit content guidelines:</b>
                            <ul>
                                <li>yes: contains profanity or adult themes</li>
                                <li>no: clean lyrics suitable for all ages</li>
                                <li>cleaned: original was explicit, but this version is censored</li>
                            </ul>
                        </div>
                        <select required>
                            <option value="no" selected>no</option>
                            <option value="yes">yes</option>
                            <option value="cleaned">cleaned</option>
                        </select>
                    </div>

                    <div class="form-group"><label>release date</label><input type="date" required style="color: var(--text-secondary);"></div>

                    <div class="form-group"><label>© copyright year & holder</label><input type="text" placeholder="2026 undersouthern"></div>
                    <div class="form-group"><label>℗ copyright year & holder</label><input type="text" placeholder="2026 undersouthern"></div>

                    <div class="form-group full-width tracks-section">
                        <label id="audio-label">audio tracks management</label>
                        <div id="tracks-container"></div>
                        <button type="button" id="add-track-btn" class="btn-add-track" onclick="addTrackRow()">+ add track</button>
                    </div>
                </div>
                
                <div class="submit-container">
                    <button type="submit" class="btn-submit">submit</button>
                </div>
            </form>
        </main>
        <footer class="footer"><span>&copy; 2026 undersouthern. all rights reserved.</span><span>secure hq terminal v2.6.04</span></footer>
    </div>

    <div class="lyrics-modal-overlay" id="lyrics-modal" onclick="closeLyricsModal(event)">
        <div class="lyrics-modal-box" onclick="event.stopPropagation()">
            <h3 id="lyrics-track-name">track lyrics</h3>
            <textarea id="modal-textarea" placeholder="paste lyrics here..."></textarea>
            <button class="btn-done-lyrics" onclick="saveAndCloseLyrics()">done</button>
        </div>
    </div>

    <script>
        const genres = ["Alternative", "Alternative Rock", "Alternativo & Rock Latino", "Anime", "Baladas y Boleros", "Big Band", "Blues", "Brazilian", "C-Pop", "Cantopop/HK-Pop", "Children's", "Chinese", "Christian", "Classical", "Comedy", "Contemporary Latin", "Country", "Dance", "Easy Listening", "Educational", "Electronic", "Enka", "Experimental", "Fitness & Workout", "Folk", "French Pop", "German Folk", "German Pop", "Hip-Hop/Rap", "Holiday", "Indo Pop", "Inspirational", "Instrumental", "J-Pop", "Jazz", "K-Pop", "Karaoke", "Kayokyoku", "Latin", "Latin Jazz", "Metal", "New Age", "Opera", "Original Pilipino Music", "Pop", "Pop Latino", "Punk", "R&B", "Raices", "Reggae", "Reggaeton y Hip-Hop", "Regional Mexicano", "Rock", "Salsa y Tropical", "Singer/Songwriter", "Soul", "Soundtrack", "Spoken Word", "Tai-Pop", "Thai Pop", "Trot", "Vocal/Nostalgia", "World"];
        const languages = ["Vietnamese (VI)", "English (EN)", "Korean (KO)", "Japanese (JA)", "Chinese (ZH)", "French (FR)", "Spanish (ES)", "German (DE)", "Italian (IT)", "Portuguese (PT)", "Russian (RU)", "Arabic (AR)", "Hindi (HI)", "Thai (TH)", "Indonesian (ID)", "Bengali (BN)", "Turkish (TR)", "Malay (MS)", "Urdu (UR)", "Persian (FA)", "Swahili (SW)", "Tamil (TA)", "Telugu (TE)", "Marathi (MR)", "Gujarati (GU)", "Kannada (KN)", "Punjabi (PA)", "Filipino (TL)", "Malayalam (ML)", "Sinhala (SI)", "Burmese (MY)", "Khmer (KM)", "Lao (LO)", "Nepali (NE)", "Pashto (PS)", "Hebrew (HE)", "Greek (EL)", "Dutch (NL)", "Swedish (SV)", "Norwegian (NO)", "Danish (DA)", "Finnish (FI)", "Polish (PL)", "Czech (CS)", "Hungarian (HU)", "Romanian (RO)", "Bulgarian (BG)", "Serbian (SR)", "Croatian (HR)", "Slovak (SK)"];

        function populateDropdowns() {
            const pG = document.getElementById('primary-genre');
            const sG = document.getElementById('secondary-genre');
            const lS = document.getElementById('language-select');
            genres.forEach(g => { pG.add(new Option(g, g)); sG.add(new Option(g, g)); });
            languages.forEach(l => { lS.add(new Option(l, l)); });
        }

        function createTag(val, container, input) {
            const tag = document.createElement('div');
            tag.className = 'tag';
            tag.innerHTML = `${val} <span onclick="this.parentElement.remove()">✕</span>`;
            container.insertBefore(tag, input);
            input.value = '';
        }

        function initTagSystem(container) {
            const input = container.querySelector('input');
            input.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); const val = input.value.trim(); if (val) createTag(val, container, input); } });
            input.addEventListener('blur', () => { const val = input.value.trim(); if (val) createTag(val, container, input); });
        }

        let trackCount = 0;
        let currentTrackLyricsId = null;
        let lyricsStore = {};

        function addTrackRow() {
            trackCount++;
            const container = document.getElementById('tracks-container');
            const itemContainer = document.createElement('div');
            itemContainer.className = 'track-item-container';
            itemContainer.id = `track-container-${trackCount}`;
            
            itemContainer.innerHTML = `
                <div class="track-row">
                    <div class="form-group"><label>song title</label><input type="text" id="track-name-${trackCount}" placeholder="name" required></div>
                    <div class="form-group"><label>primary artist</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>
                    <div class="form-group"><label>featured artist</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>
                    <div class="form-group"><label>producer</label><div class="tags-container" onclick="this.querySelector('input').focus()"><input type="text" class="tag-input"></div></div>
                    <div class="action-mini-btn" onclick="document.getElementById('file-${trackCount}').click()"><span id="file-status-${trackCount}">audio</span><input type="file" id="file-${trackCount}" hidden accept="audio/*" onchange="updateTrackStatus(${trackCount})"></div>
                    <div class="action-mini-btn" onclick="openLyricsModal(${trackCount})"><span id="lyrics-status-${trackCount}">lyrics</span></div>
                    <div style="padding-bottom: 5px; cursor:pointer; color:#b3261e; font-size: 1.2rem; align-self: flex-end; margin-bottom: 8px;" onclick="document.getElementById('track-container-${trackCount}').remove()">✕</div>
                </div>
            `;
            container.appendChild(itemContainer);
            itemContainer.querySelectorAll('.tags-container').forEach(initTagSystem);
        }

        function openLyricsModal(id) {
            currentTrackLyricsId = id;
            const trackName = document.getElementById(`track-name-${id}`).value || 'unnamed track';
            document.getElementById('lyrics-track-name').innerText = `lyrics: ${trackName}`;
            document.getElementById('modal-textarea').value = lyricsStore[id] || '';
            document.getElementById('lyrics-modal').style.display = 'flex';
        }

        function saveAndCloseLyrics() {
            lyricsStore[currentTrackLyricsId] = document.getElementById('modal-textarea').value.trim();
            const status = document.getElementById(`lyrics-status-${currentTrackLyricsId}`);
            if(lyricsStore[currentTrackLyricsId]) {
                status.innerText = "ready";
                status.style.color = "var(--accent)";
            } else {
                status.innerText = "lyrics";
                status.style.color = "var(--text-secondary)";
            }
            document.getElementById('lyrics-modal').style.display = 'none';
        }

        function closeLyricsModal(e) { if(e.target.id === 'lyrics-modal') saveAndCloseLyrics(); }
        function updateTrackStatus(id) { document.getElementById(`file-status-${id}`).innerText = "ready"; document.getElementById(`file-status-${id}`).style.color = "var(--accent)"; }
        function handleTypeLogic() { const type = document.getElementById('release-type').value; document.getElementById('tracks-container').innerHTML = ""; trackCount = 0; addTrackRow(); document.getElementById('title-label').innerText = type + ' title'; document.getElementById('sub-header-text').innerText = 'distribute your ' + type + ' global'; }
        function previewArt(input) { const p = document.getElementById('preview-img'); const t = document.getElementById('art-txt'); if (input.files && input.files[0]) { const r = new FileReader(); r.onload = (e) => { p.src = e.target.result; p.style.display = 'block'; t.style.display = 'none'; }; r.readAsDataURL(input.files[0]); } }
        function removeArt(e) { e.stopPropagation(); document.getElementById('artwork-file').value = ""; document.getElementById('preview-img').style.display = 'none'; document.getElementById('art-txt').style.display = 'block'; }
        
        // HÀM TOGGLE TOOLTIP CẬP NHẬT ĐỂ DÙNG CHUNG CHO NHIỀU Ô
        function toggleTooltip(e, id) { 
            e.stopPropagation(); 
            // Ẩn tất cả tooltips đang hiện trước
            document.querySelectorAll('.artwork-tooltip').forEach(tip => {
                if(tip.id !== id) tip.style.display = 'none';
            });
            const tip = document.getElementById(id); 
            tip.style.display = (tip.style.display === 'block') ? 'none' : 'block'; 
        }

        document.addEventListener('click', (e) => { 
            document.querySelectorAll('.artwork-tooltip').forEach(tip => {
                if (!tip.contains(e.target) && !e.target.classList.contains('help-icon')) {
                    tip.style.display = 'none';
                }
            });
        });
        
        function handleFinalSubmit(e) { 
            e.preventDefault(); 
            alert('release submitted.'); 
        }

        function handleLogout() { window.location.href = 'https://undersouthern.asia/login'; }
        window.onload = () => { populateDropdowns(); document.querySelectorAll('.tags-container').forEach(initTagSystem); handleTypeLogic(); };
    </script>
</body>
</html>
