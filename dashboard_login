<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Artist Portal</title>
  <style>
    body { font-family: Arial; max-width: 400px; margin: 50px auto; }
    input, button { display: block; width: 100%; margin: 8px 0; padding: 8px; }
    #msg { color: red; }
  </style>
</head>
<body>
  <h2>Artist Registration</h2>
  <input id="regUser" placeholder="Username">
  <input id="regPass" type="password" placeholder="Password">
  <input id="regName" placeholder="Artist Name">
  <button onclick="register()">Register</button>

  <h2>Artist Login</h2>
  <input id="logUser" placeholder="Username">
  <input id="logPass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>

  <p id="msg"></p>
  <div id="result"></div>

<script>
const API_URL = "PASTE_YOUR_WEBAPP_URL_HERE"; // URL WebApp cá»§a báº¡n

async function register() {
  const username = document.getElementById('regUser').value;
  const password = document.getElementById('regPass').value;
  const artistName = document.getElementById('regName').value;

  const res = await fetch(API_URL, {
    method: "POST",
    body: JSON.stringify({ action: "register", username, password, artistName }),
    headers: { "Content-Type": "application/json" }
  });
  const data = await res.json();
  document.getElementById('msg').innerText = data.message;
  if (data.success) {
    document.getElementById('result').innerHTML = `<a href="${data.driveLink}" target="_blank">Drive cá»§a báº¡n</a>`;
  }
}

async function login() {
  const username = document.getElementById('logUser').value;
  const password = document.getElementById('logPass').value;

  const res = await fetch(API_URL, {
    method: "POST",
    body: JSON.stringify({ action: "login", username, password }),
    headers: { "Content-Type": "application/json" }
  });
  const data = await res.json();
  if (data.success) {
    document.getElementById('msg').innerText = "";
    document.getElementById('result').innerHTML = `
      <h3>Xin chÃ o, ${data.artist}</h3>
      <a href="${data.driveLink}" target="_blank">ðŸ‘‰ VÃ o Drive</a>
    `;
  } else {
    document.getElementById('msg').innerText = data.message;
  }
}
</script>
</body>
</html>
